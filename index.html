<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Favorite Person âœ¨</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* --- UNIVERSAL FONT FIX (Forces Tablet Compliance) --- */
        * {
            font-family: 'Quicksand', sans-serif !important;
        }

        .cursive, h1, h2, h3, .pop-bubble.popped, #pop-message h2 {
            font-family: 'Dancing Script', cursive !important;
        }

        body { background: #fff5f5; scroll-behavior: smooth; overflow-x: hidden; margin: 0; }

        
/* --- NEW ANIMATED ENVELOPE --- */
.envelope-wrapper { 
    background: radial-gradient(circle, #fff5f5 0%, #fed7aa 100%); 
    height: 100vh; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    z-index: 1000; 
    position: fixed; 
    inset: 0; 
}

.envelope { 
    position: relative; 
    width: 300px; 
    height: 200px; 
    background: #f43f5e; /* Deeper Rose */
    border-radius: 0 0 10px 10px; 
    cursor: pointer; 
    box-shadow: 0 30px 50px rgba(225, 29, 72, 0.3);
    transform-style: preserve-3d;
    transition: transform 0.8s ease;
}

/* Floating Animation */
.envelope-floating {
    animation: floating 3s ease-in-out infinite;
}

@keyframes floating {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
    100% { transform: translateY(0px); }
}

/* The Flap */
.envelope::before { 
    content: ''; 
    position: absolute; 
    top: 0; left: 0; 
    border-left: 150px solid transparent; 
    border-right: 150px solid transparent; 
    border-top: 120px solid #fda4af; 
    transition: transform 0.6s ease; 
    transform-origin: top; 
    z-index: 3; 
}

.envelope.open::before { 
    transform: rotateX(180deg); 
    z-index: 1; 
}

/* The Paper inside the envelope */
.letter-preview {
    position: absolute;
    bottom: 10px;
    left: 20px;
    width: 260px;
    height: 160px;
    background: white;
    z-index: 2;
    transition: transform 0.8s ease;
    padding: 20px;
    border-radius: 5px;
}

.envelope.open .letter-preview {
    transform: translateY(-120px);
}

.heart-seal { 
    position: absolute; 
    top: -20px; 
    left: 50%; 
    transform: translateX(-50%); 
    font-size: 50px; 
    z-index: 10; 
    filter: drop-shadow(0 0 10px white);
    animation: pulseHeart 1.5s infinite;
}

@keyframes pulseHeart {
    0% { transform: translateX(-50%) scale(1); }
    50% { transform: translateX(-50%) scale(1.2); }
    100% { transform: translateX(-50%) scale(1); }
}

        /* --- STICKERS & DECORATION --- */
        .her-sticker { position: fixed; object-fit: contain; pointer-events: none; z-index: 10; opacity: 0.9; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1)); animation: floatSticker 5s ease-in-out infinite alternate; }
        @keyframes floatSticker { 0% { transform: translate(0, 0) rotate(-5deg); } 100% { transform: translate(15px, 30px) rotate(5deg); } }
        
        .petal { position: fixed; top: -5%; color: #ffc1cc; user-select: none; pointer-events: none; z-index: 0; animation: fall linear forwards; }
        @keyframes fall { 0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(360deg); opacity: 0; } }

        /* --- COMPONENTS --- */
        #love-popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 200; width: 320px; }
        .glass-note { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border: 2px solid white; border-radius: 30px; padding: 35px; text-align: center; box-shadow: 0 25px 60px rgba(225, 29, 72, 0.15); }
        
        .polaroid { background: white; padding: 12px 12px 35px 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); transition: transform 0.3s ease; border-radius: 2px; break-inside: avoid; margin-bottom: 1.5rem; border: 1px solid #fef2f2; display: flex; flex-direction: column; align-items: center; }
        .polaroid img { width: 100%; border-radius: 2px; margin-bottom: 10px; }
        .polaroid:hover { transform: rotate(var(--r, 2deg)) scale(1.05); z-index: 50; }
        .polaroid:nth-child(even) { --r: -3deg; }
        .polaroid:nth-child(odd) { --r: 3deg; }

        .counter-box { background: rgba(255, 255, 255, 0.8); padding: 15px; border-radius: 20px; min-width: 80px; border: 1px solid white; box-shadow: 0 10px 20px rgba(244, 63, 94, 0.05); }

        /* --- POP HEART GAME STYLES --- */
        .pop-bubble { width: 50px; height: 50px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 10px rgba(244, 63, 94, 0.1); transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @media (min-width: 640px) { .pop-bubble { width: 65px; height: 65px; font-size: 1.5rem; } }
        .pop-bubble.popped { background: #ffe4e6; color: #e11d48; transform: scale(0.85); font-weight: bold; pointer-events: none; }

        .proposal-btn { padding: 1rem 2.5rem; border-radius: 9999px; font-weight: 800; transition: all 0.3s; cursor: pointer; animation: pulseGlow 2s infinite; }
        @keyframes pulseGlow { 0% { box-shadow: 0 0 0 0px rgba(251, 113, 133, 0.4); } 70% { box-shadow: 0 0 0 20px rgba(251, 113, 133, 0); } 100% { box-shadow: 0 0 0 0px rgba(251, 113, 133, 0); } }

        .fountain-heart { position: absolute; pointer-events: none; z-index: 100; font-size: 2rem; animation: fountain 2.5s ease-out forwards; }
        @keyframes fountain { 0% { transform: translate(-50%, 0) scale(0.5); opacity: 1; } 100% { transform: translate(var(--x-end), 500px) scale(0.5) rotate(var(--r)); opacity: 0; } }
        
    /* Fountain Heart Animation */
    .fountain-heart {
        position: absolute;
        bottom: 150px; /* Starts from the vase top */
        left: 50%;
        pointer-events: none;
        z-index: 100;
        font-size: 2rem;
        animation: fountain 2.5s ease-out forwards;
    }

    @keyframes fountain {
        0% {
            transform: translate(-50%, 0) scale(0.5);
            opacity: 1;
        }
        30% {
            transform: translate(var(--x), var(--y)) scale(1.2);
        }
        100% {
            transform: translate(var(--x-end), 500px) scale(0.5) rotate(var(--r));
            opacity: 0;
        }
    }
        @keyframes fall {
    0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
}
#success-message {
    position: fixed !important;
    inset: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background-color: white !important; /* Use a solid color so nothing shows through */
    z-index: 99999 !important; /* Extremely high number */
    display: none; /* We will change this to flex via JS */
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
        .magic-star {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));
}

.magic-star.active {
    transform: scale(1.3) rotate(20deg);
    filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8));
    animation: none;
}

#star-text {
    text-shadow: 0 0 15px rgba(251, 113, 133, 0.3);
}

.magic-star:hover {
    transform: scale(1.2) rotate(10deg);
}
/* --- VINTAGE PARCHMENT STYLING --- */
.parchment-container {
    background: #fdf5e6;
    background-image: 
        url('https://www.transparenttextures.com/patterns/old-paper.png'),
        radial-gradient(circle, rgba(255,255,255,0) 50%, rgba(139,69,19,0.1) 100%);
    padding: 60px 40px;
    max-width: 550px;
    margin: 50px auto;
    border: 1px solid #d4a373;
    box-shadow: 
        /* The paper thickness effect */
        2px 2px 0px #c2a382,
        15px 15px 40px rgba(0,0,0,0.15);
    position: relative;
    transform: rotate(-0.5deg);
}

/* Elegant border inside the paper */
.parchment-container::after {
    content: '';
    position: absolute;
    inset: 15px;
    border: 1px solid rgba(139, 69, 19, 0.15);
    pointer-events: none;
}

.romantic-cursive {
    font-family: 'Dancing Script', cursive !important;
    color: #3d2b1f; /* Deep sepia ink */
    line-height: 1.7;
    text-align: center;
}


/* Wax Seal for the Letter */
.red-wax-seal {
    width: 60px;
    height: 60px;
    background: #991b1b;
    border-radius: 50%;
    position: absolute;
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 20px;
    border: 2px solid #7f1d1d;
}

    </style>
</head>
<body>

    <audio id="bg-music" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <img src="her1.png" class="her-sticker" style="top: 5%; left: 2%; width: 100px;">
    <img src="her2.png" class="her-sticker" style="top: 12%; right: 3%; width: 90px;">
    <img src="her3.png" class="her-sticker" style="bottom: 8%; left: 4%; width: 110px;">
    <img src="her4.png" class="her-sticker" style="bottom: 15%; right: 10%; width: 85px;"> 
    <img src="her5.png" class="her-sticker" style="top: 35%; left: 1%; width: 85px;">
    <img src="her6.png" class="her-sticker" style="top: 45%; right: 1%; width: 95px;">
    <img src="her7.png" class="her-sticker" style="bottom: 45%; left: 2%; width: 80px;">
    <img src="her8.png" class="her-sticker" style="top: 25%; left: 15%; width: 70px; opacity: 0.6;">
    <img src="her9.png" class="her-sticker" style="bottom: 20%; left: 10%; width: 85px;">
    <img src="her10.png" class="her-sticker" style="bottom: 5%; left: 45%; width: 100px;">

    <section id="envelope-screen" class="envelope-wrapper">
    <div class="envelope envelope-floating" id="envelope" onclick="openEnvelope()">
        <div class="heart-seal">ğŸ’–</div>
        <div class="letter-preview flex flex-col items-center justify-center">
            <p class="cursive text-rose-500 text-xl font-bold">For My Favorite Person</p>
            <div class="w-10 h-1 bg-rose-200 mt-2"></div>
        </div>
    </div>
    <p id="instruction-text" class="cursive text-3xl text-rose-400 mt-20 animate-pulse">Tap the heart to open...</p>
</section>


    <section id="proposal-section" class="min-h-screen flex flex-col items-center justify-center p-6 opacity-0 transition-opacity duration-1000 hidden">
        <div class="bg-white/80 backdrop-blur-md p-8 rounded-[3rem] shadow-2xl max-w-sm w-full text-center border border-white">
            <img id="main-img" src="Pic1.jpg" class="w-full h-80 object-cover rounded-[2.5rem] mb-6 shadow-sm">
            <h1 id="headline" class="cursive text-4xl text-rose-500 mb-8">Will you be my Valentine?</h1>
            <div id="btn-group" class="space-y-4">
                <button id="yesBtn" class="w-full bg-rose-400 hover:bg-rose-600 text-white font-bold py-5 rounded-full text-xl shadow-lg transition-all">Yes, I'd Love To! ğŸ’–</button>
                <button id="noBtn" class="w-full bg-gray-100 text-gray-300 py-2 rounded-full text-xs italic">No</button>
            </div>
        </div>
        <p class="mt-12 text-rose-300 animate-bounce text-lg">Scroll for our story â†“</p>
    </section>

    <section class="max-w-4xl mx-auto py-20 px-6 text-center relative">
        <h2 class="cursive text-5xl text-rose-400 mb-10">Build Your Bouquet ğŸ’</h2>
        <div class="flex justify-center gap-6 mb-12 text-4xl">
            <button onclick="addFlower('ğŸŒ¹')" class="hover:scale-125 transition-transform">ğŸŒ¹</button>
            <button onclick="addFlower('ğŸŒ·')" class="hover:scale-125 transition-transform">ğŸŒ·</button>
            <button onclick="addFlower('ğŸŒ»')" class="hover:scale-125 transition-transform">ğŸŒ»</button>
            <button onclick="addFlower('ğŸŒ¸')" class="hover:scale-125 transition-transform">ğŸŒ¸</button>
        </div>
        <div class="relative mx-auto w-64 h-80 bg-white/40 backdrop-blur-sm rounded-b-[100px] border-x-2 border-b-4 border-white/60 shadow-xl flex items-end justify-center">
            <div id="vase-flowers" class="relative w-full h-full flex flex-wrap-reverse justify-center items-end p-6 pb-12"></div>
        
        <div class="absolute bottom-0 w-full h-24 bg-rose-200/20 rounded-b-[90px]"></div>
    </div>
    
    <button onclick="clearVase()" class="mt-8 text-rose-300 text-xs uppercase tracking-widest hover:text-rose-400">Clear Vase</button>
</section>

    </section>

    <section class="max-w-4xl mx-auto py-16 px-6 text-center">
        <div class="bg-white/60 backdrop-blur-md rounded-[2rem] p-10 border border-white shadow-xl">
            <h2 class="cursive text-4xl text-rose-500 mb-6">Time spent loving you...</h2>
            <div class="flex flex-wrap justify-center gap-4 text-rose-600">
                <div class="counter-box"><span id="days" class="text-3xl font-bold block">00</span><span class="text-xs text-gray-400">Days</span></div>
                <div class="counter-box"><span id="hours" class="text-3xl font-bold block">00</span><span class="text-xs text-gray-400">Hours</span></div>
                <div class="counter-box"><span id="minutes" class="text-3xl font-bold block">00</span><span class="text-xs text-gray-400">Mins</span></div>
                <div class="counter-box"><span id="seconds" class="text-3xl font-bold block">00</span><span class="text-xs text-gray-400">Secs</span></div>
            </div>
        </div>
    </section>

    <section class="max-w-6xl mx-auto py-24 px-6">
        <h2 class="cursive text-6xl text-rose-400 text-center mb-20">Our Beautiful Story</h2>
        <div class="columns-1 sm:columns-2 lg:columns-3 gap-8">
            <div class="polaroid"><img src="Pic1.jpg"><p class="cursive">Where it started</p></div>
            <div class="polaroid"><img src="Pic3.jpg"><p class="cursive">First Date âœ¨</p></div>
            <div class="polaroid"><img src="Pic4.jpg"><p class="cursive">Pure Happiness</p></div>
            <div class="polaroid"><img src="Pic5.jpg"><p class="cursive">Our Adventure</p></div>
            <div class="polaroid"><img src="Pic12.jpg"><p class="cursive">Everything</p></div>
            <div class="polaroid"><img src="Pic6.jpg"><p class="cursive">My Favorite View</p></div>
        <div class="polaroid"><img src="Pic7.jpg"><p class="cursive">Golden Hour</p></div>
        <div class="polaroid"><img src="Pic8.jpg"><p class="cursive">Silly Moments</p></div>
        <div class="polaroid"><img src="Pic9.jpg"><p class="cursive">Little Things</p></div>
        <div class="polaroid"><img src="Pic10.jpg"><p class="cursive">Sunny Days</p></div>
        <div class="polaroid"><img src="Pic11.jpg"><p class="cursive">That Smile</p></div>
            <div class="polaroid"><img src="Pic2.jpg"><p class="cursive">Forever to go</p></div>
        </div>
    </section>

    <section class="max-w-4xl mx-auto py-16 px-6 overflow-hidden">
    <div class="handwritten-letter">
        <div class="ink-text cursive">
            <p class="text-3xl mb-10">To my <span class="letter-accent">SonyğŸ’–</span>,</p>
            
            <p>
                Baby,From you being unknown for me to the person I am dying for you 
                    I just wish God us to give the time,health and wealth to be by your side till the world's end
                </p>
                
                <p>
                    You are the person who makes my world exiting lively, 
                    the one who turns my ordinary days into something extraordinary. 
                    Every second we spend is a memory I want to be in for the rest of my life.
                </p>
                
                <p>
                    Thank you for being my lover, my other half, and my best friend. 
                    I am so incredibly proud of the person you are.
            </p>
    
            <p class="mt-12">
                With all my love,<br>
                <span class="text-3xl letter-accent">[Your  TejağŸ˜˜]</span>
            </p>
        </div>
        
        <div class="absolute top-10 right-10 opacity-30 text-3xl">ğŸ¥€</div>
    </div>
</section>


        <div class="red-wax-seal cursive">G S</div>
    </div>
</section>

<section class="max-w-2xl mx-auto py-16 px-6 text-center">
    <h3 class="cursive text-4xl text-rose-400 mb-10">4 Stars, 4 Promises... âœ¨</h3>
    
    <div class="flex justify-center gap-6 sm:gap-10 mb-12">
        <div onclick="revealStar(this, 'In a world full of temporary things, you are my forever. â¤ï¸')" 
             class="magic-star cursor-pointer text-5xl sm:text-6xl animate-pulse">â­</div>
        
        <div onclick="revealStar(this, 'Every love story is beautiful, but ours is my favorite. âœ¨')" 
             class="magic-star cursor-pointer text-5xl sm:text-6xl animate-pulse">ğŸ’«</div>
        
        <div onclick="revealStar(this, 'I want be reason for your smile. ğŸŒ¸')" 
             class="magic-star cursor-pointer text-5xl sm:text-6xl animate-pulse">ğŸŒŸ</div>
        
        <div onclick="revealStar(this, 'My heart belongs to you, today and for all my tomorrows. ğŸ’')" 
             class="magic-star cursor-pointer text-5xl sm:text-6xl animate-pulse">âœ¨ï¸</div>
    </div>

    <div id="star-message-area" class="mt-6 flex justify-center items-center min-h-[100px]">
        <p id="star-text" class="cursive text-3xl sm:text-4xl text-rose-500 opacity-0 transition-all duration-700 leading-relaxed"></p>
    </div>
</section>

    <section class="max-w-2xl mx-auto py-16 px-6 text-center pb-32">
        <div class="bg-white/40 backdrop-blur-md p-10 rounded-[40px] border border-white/60 shadow-2xl">
            <h3 class="cursive text-3xl text-rose-400 mb-8">Pop the hearts for a special question... ğŸ«§</h3>
            <div class="grid grid-cols-4 sm:grid-cols-6 gap-3 justify-items-center">
                <div onclick="popHeart(this, 'P')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'E')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'L')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'L')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'I')" class="pop-bubble">ğŸ’–</div>
                <div class="hidden sm:block"></div>
                <div onclick="popHeart(this, 'C')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'H')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'E')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'S')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'K')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'U')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'N')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'T')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'A')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'V')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'A')" class="pop-bubble">ğŸ’–</div>
                <div class="hidden sm:block"></div>
                <div onclick="popHeart(this, 'N')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'A')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'N')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'N')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, 'U')" class="pop-bubble">ğŸ’–</div>
                <div onclick="popHeart(this, '?')" class="pop-bubble">ğŸ’–</div>
            </div>
            <div id="pop-message" class="mt-12 opacity-0 transition-all duration-1000 transform translate-y-10 pointer-events-none">
                <h2 class="text-4xl font-bold text-rose-600 mb-4">PELLI CHESKUNTAVA NANNU?</h2>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center pointer-events-auto">
                    <button onclick="sayYes()" class="proposal-btn bg-rose-500 text-white">YES! â¤ï¸</button>
                    <button onclick="sayYes()" class="proposal-btn bg-white text-rose-500 border-2 border-rose-500">YES! (In Pink) ğŸŒ¸</button>
                </div>
            </div>
        </div>
    </section>

    <div id="success-message" class="fixed inset-0 z-[5000] hidden flex-col items-center justify-center bg-white/95 backdrop-blur-lg text-center">
        <h1 class="cursive text-7xl text-rose-600 animate-bounce">She said YES! ğŸ’</h1>
        <p class="text-rose-400 text-xl mt-4 uppercase tracking-widest">Forever Begins Now</p>
        <button onclick="location.reload()" class="mt-10 text-rose-300 underline">Restart Journey</button>
    </div>

    <div id="love-popup">
        <div class="glass-note">
            <p id="popup-text" class="cursive text-3xl text-rose-500 mb-6"></p>
            <button onclick="closeNote()" class="text-xs uppercase tracking-widest text-rose-300 font-bold border-t pt-4 w-full">Close with love</button>
        </div>
    </div>

    <script>
        // 1. GLOBAL LOGIC
        const music = document.getElementById('bg-music');
        const popup = document.getElementById('love-popup');
        const popupText = document.getElementById('popup-text');

        function openEnvelope() {
    const env = document.getElementById('envelope');
    const instruction = document.getElementById('instruction-text');
    
    // 1. Open flap and slide paper up
    env.classList.add('open');
    instruction.style.opacity = '0';
    
    // 2. Play music
    music.play().catch(e => console.log("Music play blocked"));

    // 3. Zoom into the letter
    setTimeout(() => {
        env.style.transform = "scale(5) translateY(-50px)";
        env.style.opacity = "0";
        document.getElementById('envelope-screen').style.backgroundColor = "white";
    }, 1200);

    // 4. Reveal the site
    setTimeout(() => {
        document.getElementById('envelope-screen').style.display = 'none';
        const prop = document.getElementById('proposal-section');
        prop.classList.remove('hidden');
        setTimeout(() => prop.style.opacity = '1', 100);
    }, 2000);
}


        function showNote(msg) { popupText.innerText = msg; popup.style.display = 'block'; }
        function closeNote() { popup.style.display = 'none'; }

        // 2. VALENTINE BUTTONS
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        let yesScale = 1;
        noBtn.addEventListener('click', () => {
            yesScale += 0.3;
            yesBtn.style.transform = `scale(${yesScale})`;
            noBtn.innerText = "Try again? ğŸ¥º";
        });
        yesBtn.addEventListener('click', () => {
            document.getElementById('headline').innerText = "You made my year! â¤ï¸";
            document.getElementById('main-img').src = "Pic2.jpg";
            document.getElementById('btn-group').innerHTML = `<p class="cursive text-4xl text-rose-400 animate-bounce mt-4">See you on the 14th! âœ¨</p>`;
        });

        // 3. BOUQUET
        function addFlower(emoji) {
            const vase = document.getElementById('vase-flowers');
            const f = document.createElement('div');
            f.innerHTML = emoji;
            f.className = "text-5xl animate-bounce";
            f.style.margin = "-10px";
            vase.appendChild(f);
            if (vase.children.length === 10) triggerHeartFountain();
        }

        function triggerHeartFountain() {
            for (let i = 0; i < 30; i++) {
                const h = document.createElement('div');
                h.className = 'fountain-heart';
                h.innerHTML = 'ğŸ’–';
                h.style.left = '50%';
                h.style.setProperty('--x-end', `${(Math.random()-0.5)*400}px`);
                h.style.setProperty('--r', `${Math.random()*360}deg`);
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 2500);
            }
        }

        // 4. COUNTER
        const startDate = new Date(2023, 9, 24);
        function updateCounter() {
            const diff = new Date() - startDate;
            document.getElementById('days').innerText = Math.floor(diff / 86400000);
            document.getElementById('hours').innerText = Math.floor((diff / 3600000) % 24);
            document.getElementById('minutes').innerText = Math.floor((diff / 60000) % 60);
            document.getElementById('seconds').innerText = Math.floor((diff / 1000) % 60);
        }
        setInterval(updateCounter, 1000);

        // 5. PELLI PROPOSAL
        let poppedCount = 0;
        function popHeart(el, letter) {
            if (el.classList.contains('popped')) return;
            el.classList.add('popped');
            el.innerText = letter;
            poppedCount++;
            if (poppedCount === 22) {
                const m = document.getElementById('pop-message');
                m.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
                m.classList.add('opacity-100', 'translate-y-0');
            }
        }

        function acceptedProposal() {
            document.getElementById('success-message').classList.remove('hidden');
            document.getElementById('success-message').classList.add('flex');
        }

        // 6. DECORATIONS (Petals)
        function createPetal() {
            const p = document.createElement('div');
            p.innerHTML = 'ğŸŒ¸'; p.className = 'petal';
            p.style.left = Math.random() * 100 + 'vw';
            p.style.animationDuration = Math.random() * 5 + 5 + 's';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 10000);
        }
        setInterval(createPetal, 600);
        
    function addFlower(emoji) {
        const vase = document.getElementById('vase-flowers');
        if (vase.children.length >= 15) return; // Limit to keep it neat

        const flower = document.createElement('div');
        const randomRotate = Math.floor(Math.random() * 40) - 20;
        
        flower.innerHTML = emoji;
        flower.className = "text-5xl animate-bounce";
        flower.style.transform = `rotate(${randomRotate}deg)`;
        flower.style.margin = "-10px"; // Overlap for bouquet look
        
        vase.appendChild(flower);
        
        // Trigger Fountain on the 10th flower
        if (vase.children.length === 10) {
            triggerHeartFountain();
            setTimeout(() => {
                showNote("A bouquet as beautiful as the one holding the phone! â¤ï¸");
            }, 500);
        }
    }

    function triggerHeartFountain() {
        const container = document.body;
        const heartEmojis = ['â¤ï¸', 'ğŸ’–', 'ğŸ’', 'ğŸ’•', 'ğŸŒ¸', 'âœ¨'];

        for (let i = 0; i < 40; i++) {
            const heart = document.createElement('div');
            heart.className = 'fountain-heart';
            heart.innerHTML = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
            
            // Random trajectory logic
            const x = (Math.random() - 0.5) * 400; // Wide spray
            const y = -Math.random() * 500 - 200;  // Upward burst
            const xEnd = x + (Math.random() - 0.5) * 200;
            const r = Math.random() * 360;

            heart.style.setProperty('--x', `${x}px`);
            heart.style.setProperty('--y', `${y}px`);
            heart.style.setProperty('--x-end', `${xEnd}px`);
            heart.style.setProperty('--r', `${r}deg`);

            container.appendChild(heart);
            
            // Clean up after animation
            setTimeout(() => heart.remove(), 2500);
        }
    }

    function clearVase() {
        document.getElementById('vase-flowers').innerHTML = '';
    }
        function createHeartAt(x, y) {
    const heart = document.createElement('div');
    heart.innerHTML = 'â¤ï¸';
    heart.style.position = 'fixed';
    heart.style.left = x + 'px';
    heart.style.top = y + 'px';
    heart.style.fontSize = Math.random() * 20 + 10 + 'px';
    heart.style.pointerEvents = 'none';
    heart.style.zIndex = '1000';
    heart.style.transition = 'all 1s ease-out';
    
    document.body.appendChild(heart);

    setTimeout(() => {
        heart.style.transform = `translateY(-50px) scale(1.5)`;
        heart.style.opacity = '0';
    }, 50);

    setTimeout(() => heart.remove(), 1000);
}

// Listen for Desktop Mouse
document.addEventListener('mousemove', (e) => {
    createHeartAt(e.clientX, e.clientY);
});

// Listen for Tablet/Phone Touch
document.addEventListener('touchmove', (e) => {
    // This gets the position of the finger
    const touch = e.touches[0];
    createHeartAt(touch.clientX, touch.clientY);
}, { passive: true });

function createGameHeart() {
    const heart = document.createElement('div');
    const compliments = ["You're Cute!", "My Love â¤ï¸", "Stay Mine", "Beautiful âœ¨", "My Queen", "Forever? ğŸ’"];
    
    heart.innerHTML = 'ğŸ’–';
    heart.className = 'falling-heart';
    heart.style.position = 'fixed'; // Ensures they stay on screen
    heart.style.left = Math.random() * 90 + 'vw';
    heart.style.top = '-10%';
    heart.style.zIndex = '5000'; // Higher than polaroids and stickers
    heart.style.cursor = 'pointer';
    heart.style.fontSize = '2.5rem';
    heart.style.animation = `fall ${Math.random() * 3 + 4}s linear forwards`;
    
    // Support for both Click and Touch
    const handlePop = function(e) {
        e.preventDefault(); // Prevents tablet scrolling while tapping
        const msg = compliments[Math.floor(Math.random() * compliments.length)];
        heart.innerHTML = `<span style="background: white; padding: 5px 15px; border-radius: 20px; font-size: 1rem; color: #e11d48; shadow: 0 4px 10px rgba(0,0,0,0.1); border: 1px solid #ffe4e6; white-space: nowrap;">${msg}</span>`;
        heart.style.animationPlayState = 'paused'; // Stop falling when clicked
        setTimeout(() => {
            heart.style.opacity = '0';
            setTimeout(() => heart.remove(), 500);
        }, 1000);
    };

    heart.addEventListener('mousedown', handlePop);
    heart.addEventListener('touchstart', handlePop);

    document.body.appendChild(heart);
    
    // Clean up if not clicked
    setTimeout(() => { if(heart.parentNode) heart.remove(); }, 7000);
}

// Ensure the interval is running
setInterval(createGameHeart, 2000);
function sayYes() {
    const successScreen = document.getElementById('success-message');
    
    // 1. Show the success screen
    successScreen.classList.remove('hidden');
    successScreen.style.display = 'flex';
    successScreen.style.zIndex = '99999';

    // 2. Launch multiple bursts of emojis
    for (let i = 0; i < 6; i++) {
        setTimeout(() => {
            spawnConfettiBurst(successScreen);
        }, i * 200);
    }
}

function spawnConfettiBurst(container) {
    const emojis = ['â¤ï¸', 'ğŸ’–', 'âœ¨', 'ğŸ’', 'ğŸŒ¸', 'ğŸ¥‚', 'ğŸ’˜'];
    
    for (let i = 0; i < 20; i++) {
        const confetti = document.createElement('div');
        confetti.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
        confetti.style.position = 'absolute';
        confetti.style.left = '50%';
        confetti.style.top = '50%';
        confetti.style.zIndex = '100001';
        confetti.style.fontSize = (Math.random() * 2 + 1) + 'rem';
        confetti.style.pointerEvents = 'none';
        
        container.appendChild(confetti);

        // Explosion math
        const angle = Math.random() * Math.PI * 2;
        const distance = Math.random() * 300 + 100;
        const destinationX = Math.cos(angle) * distance;
        const destinationY = Math.sin(angle) * distance;
        const rotation = Math.random() * 720;

        const animation = confetti.animate([
            { transform: 'translate(-50%, -50%) scale(0)', opacity: 1 },
            { transform: `translate(calc(-50% + ${destinationX}px), calc(-50% + ${destinationY}px)) scale(1.2) rotate(${rotation}deg)`, opacity: 0 }
        ], {
            duration: 2000,
            easing: 'cubic-bezier(0.1, 0.8, 0.3, 1)',
            fill: 'forwards'
        });

        animation.onfinish = () => confetti.remove();
    }
}
function revealStar(element, message) {
    // 1. Remove active class from all stars
    document.querySelectorAll('.magic-star').forEach(star => {
        star.classList.remove('active');
        star.style.opacity = "0.5";
    });

    // 2. Highlight the clicked star
    element.classList.add('active');
    element.style.opacity = "1";

    // 3. Show the message
    const textElement = document.getElementById('star-text');
    textElement.style.opacity = "0"; // Fade out old message
    
    setTimeout(() => {
        textElement.innerText = message;
        textElement.style.opacity = "1"; // Fade in new message
        
        // Add a little "sparkle" effect
        createSparkles(element);
    }, 200);
}

function createSparkles(el) {
    const rect = el.getBoundingClientRect();
    for (let i = 0; i < 5; i++) {
        const sparkle = document.createElement('div');
        sparkle.innerHTML = 'âœ¨';
        sparkle.style.position = 'fixed';
        sparkle.style.left = (rect.left + rect.width / 2) + 'px';
        sparkle.style.top = (rect.top + rect.height / 2) + 'px';
        sparkle.style.pointerEvents = 'none';
        sparkle.style.zIndex = '100';
        
        document.body.appendChild(sparkle);

        const destX = (Math.random() - 0.5) * 100;
        const destY = (Math.random() - 0.5) * 100;

        sparkle.animate([
            { transform: 'translate(0, 0) scale(1)', opacity: 1 },
            { transform: `translate(${destX}px, ${destY}px) scale(0)`, opacity: 0 }
        ], { duration: 800, easing: 'ease-out' }).onfinish = () => sparkle.remove();
    }
}
window.addEventListener('scroll', () => {
    const paper = document.querySelector('.parchment-paper');
    if (paper) {
        const triggerBottom = window.innerHeight / 5 * 4;
        const paperTop = paper.getBoundingClientRect().top;
        
        if(paperTop < triggerBottom) {
            paper.style.opacity = '1';
            paper.style.transform = 'translateY(0) rotate(-0.5deg)';
        } else {
            // Initial state (Add these to your CSS for the paper)
            paper.style.opacity = '0';
            paper.style.transform = 'translateY(50px) rotate(0deg)';
            paper.style.transition = 'all 1.2s ease-out';
        }
    }
});

    </script>
</body>
</html>
 
    



